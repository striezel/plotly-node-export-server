/*
    Plotly.js offline image export server with Node.js test suite
    Copyright (C) 2024, 2025  Dirk Stolle

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/

const assert = require('node:assert');
const http = require('node:http');
const { describe, it } = require('node:test');

describe('financial charts, part 3', () => {
  describe('candlestick charts', () => {
    it('Simple Candlestick Chart', () => {
      const options = {
        port: 3000,
        host: 'localhost',
        method: 'POST'
      };

      const req = http.request(options);
      // Data taken from https://plotly.com/javascript/candlestick-charts/#simple-candlestick-chart example.
      const payload = `{
                         "data": [
                           {
                             "x": [ "2017-01-04", "2017-01-05", "2017-01-06", "2017-01-09", "2017-01-10", "2017-01-11", "2017-01-12", "2017-01-13", "2017-01-17", "2017-01-18", "2017-01-19", "2017-01-20", "2017-01-23", "2017-01-24", "2017-01-25", "2017-01-26", "2017-01-27", "2017-01-30", "2017-01-31", "2017-02-01", "2017-02-02", "2017-02-03", "2017-02-06", "2017-02-07", "2017-02-08", "2017-02-09", "2017-02-10", "2017-02-13", "2017-02-14", "2017-02-15" ],
      "close": [ 116.019997, 116.610001, 117.910004, 118.989998, 119.110001, 119.75, 119.25, 119.040001, 120, 119.989998, 119.779999, 120, 120.080002, 119.970001, 121.879997, 121.940002, 121.949997, 121.629997, 121.349998, 128.75, 128.529999, 129.080002, 130.289993, 131.529999, 132.039993, 132.419998, 132.119995, 133.289993, 135.020004, 135.509995 ],
                             "decreasing": {
                               "line": {
                                 "color": "#7F7F7F"
                               }
                             },
                             "high": [ 116.510002, 116.860001, 118.160004, 119.43, 119.379997, 119.93, 119.300003, 119.620003, 120.239998, 120.5, 120.089996, 120.449997, 120.809998, 120.099998, 122.099998, 122.440002, 122.349998, 121.629997, 121.389999, 130.490005, 129.389999, 129.190002, 130.5, 132.089996, 132.220001, 132.449997, 132.940002, 133.820007, 135.089996, 136.270004 ],
                             "increasing": {
                               "line": {
                                 "color": "#17BECF"
                               }
                             },
                             "line": {
                               "color": "rgba(31,119,180,1)"
                             },
                             "low": [ 115.75, 115.809998, 116.470001, 117.940002, 118.300003, 118.599998, 118.209999, 118.809998, 118.220001, 119.709999, 119.370003, 119.730003, 119.769997, 119.5, 120.279999, 121.599998, 121.599998, 120.660004, 120.620003, 127.010002, 127.779999, 128.160004, 128.899994, 130.449997, 131.220001, 131.119995, 132.050003, 132.75, 133.25, 134.619995 ],
                             "open": [ 115.849998, 115.919998, 116.779999, 117.949997, 118.769997, 118.739998, 118.900002, 119.110001, 118.339996, 120, 119.400002, 120.449997, 120, 119.550003, 120.419998, 121.669998, 122.139999, 120.93, 121.150002, 127.029999, 127.980003, 128.309998, 129.130005, 130.539993, 131.350006, 131.649994, 132.460007, 133.080002, 133.470001, 135.520004 ],
                             "type": "candlestick",
                             "xaxis": "x",
                             "yaxis": "y"
                           }
                         ],
                         "layout": {
                           "dragmode": "zoom",
                           "margin": {
                             "r": 10,
                             "t": 25,
                             "b": 40,
                             "l": 60
                           },
                           "showlegend": false,
                           "xaxis": {
                             "autorange": true,
                             "domain": [ 0, 1 ],
                             "range": [ "2017-01-03 12:00", "2017-02-15 12:00" ],
                             "rangeslider": {
                               "range": [ "2017-01-03 12:00", "2017-02-15 12:00" ]
                             },
                             "title": {
                               "text": "Date"
                             },
                             "type": "date"
                           },
                           "yaxis": {
                             "autorange": true,
                             "domain": [ 0, 1 ],
                             "range": [ 114.609999778, 137.410004222 ],
                             "type": "linear"
                           }
                         }
                       }`;
      req.write(payload);
      req.end();

      req.on('response', (response) => {
        assert.strictEqual(200, response.statusCode);
        let body = '';
        response.on('data', (chunk) => {
          body += chunk;
        });
        response.on('end', () => {
          assert.ok(body.startsWith('<svg'));
          assert.ok(body.endsWith('</svg>'));

          // Browser-based answer would be something like
          // <svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="700" height="450" style="" viewBox="0 0 700 450"><rect x="0" y="0" width="700" height="450" style="fill: rgb(255, 255, 255); fill-opacity: 1;"/><defs id="defs-f6e064"><g class="clips"><clipPath id="clipf6e064xyplot" class="plotclip"><rect width="630" height="280"/></clipPath><clipPath class="axesclip" id="clipf6e064x"><rect x="60" y="0" width="630" height="450"/></clipPath><clipPath class="axesclip" id="clipf6e064y"><rect x="0" y="25" width="700" height="280"/></clipPath><clipPath class="axesclip" id="clipf6e064xy"><rect x="60" y="25" width="630" height="280"/></clipPath></g><g class="gradients"/><g class="patterns"/></defs><g class="bglayer"/><g class="layer-below"><g class="imagelayer"/><g class="shapelayer"/></g><g class="cartesianlayer"><g class="subplot xy"><g class="layer-subplot"><g class="shapelayer"/><g class="imagelayer"/></g><g class="minor-gridlayer"><g class="x"/><g class="y"/></g><g class="gridlayer"><g class="x"><path class="xgrid crisp" transform="translate(125.93,0)" d="M0,25v280" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="xgrid crisp" transform="translate(228.49,0)" d="M0,25v280" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="xgrid crisp" transform="translate(331.05,0)" d="M0,25v280" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="xgrid crisp" transform="translate(433.6,0)" d="M0,25v280" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="xgrid crisp" transform="translate(536.1600000000001,0)" d="M0,25v280" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="xgrid crisp" transform="translate(638.72,0)" d="M0,25v280" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/></g><g class="y"><path class="ygrid crisp" transform="translate(0,300.21)" d="M60,0h630" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="ygrid crisp" transform="translate(0,238.81)" d="M60,0h630" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="ygrid crisp" transform="translate(0,177.4)" d="M60,0h630" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="ygrid crisp" transform="translate(0,116)" d="M60,0h630" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="ygrid crisp" transform="translate(0,54.6)" d="M60,0h630" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/></g></g><g class="zerolinelayer"/><g class="layer-between"><g class="shapelayer"/><g class="imagelayer"/></g><path class="xlines-below"/><path class="ylines-below"/><g class="overlines-below"/><g class="xaxislayer-below"/><g class="yaxislayer-below"/><g class="overaxes-below"/><g class="overplot"><g class="xy" transform="translate(60,25)" clip-path="url(#clipf6e064xyplot)"><g class="boxlayer mlayer"><g class="trace boxes" style="opacity: 1;"><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M3.74,263.68H10.92M3.74,264.77H10.92V262.68H3.74ZM7.33,264.77V266M7.33,262.68V256.67"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M18.39,256.44H25.57M18.39,263.91H25.57V255.44H18.39ZM21.98,263.91V265.26M21.98,255.44V252.37"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M33.04,240.47H40.22M33.04,253.35H40.22V239.47H33.04ZM36.63,253.35V257.16M36.63,239.47V236.4"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M76.99,227.21H84.17M76.99,238.98H84.17V226.21H76.99ZM80.58,238.98V239.11M80.58,226.21V220.81"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M91.64,225.74H98.82M91.64,228.91H98.82V224.74H91.64ZM95.23,228.91V234.68M95.23,224.74V221.42"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M106.29,217.88H113.47M106.29,229.28H113.47V216.88H106.29ZM109.88,229.28V231M109.88,216.88V214.67"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M120.95,224.02H128.12M120.95,227.32H128.12V223.02H120.95ZM124.53,227.32V235.79M124.53,223.02V222.4"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M135.6,225.6H142.78M135.6,225.6H142.78V224.74H135.6ZM139.19,225.6V228.42M139.19,224.74V218.47"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M194.2,214.81H201.38M194.2,234.19H201.38V213.81H194.2ZM197.79,234.19V235.67M197.79,213.81V210.86"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M208.85,213.93H216.03M208.85,213.93H216.03V213.81H208.85ZM212.44,213.93V217.37M212.44,213.81V207.67"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M223.5,217.51H230.68M223.5,221.18H230.68V216.51H223.5ZM227.09,221.18V221.54M227.09,216.51V212.7"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M238.15,212.81H245.33M238.15,213.81H245.33V208.28H238.15ZM241.74,213.81V217.12M241.74,208.28V208.28"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M282.11,212.82H289.29M282.11,213.81H289.29V212.82H282.11ZM285.7,213.81V216.63M285.7,212.82V203.86"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M296.76,215.18H303.94M296.76,219.33H303.94V214.18H296.76ZM300.35,219.33V219.95M300.35,214.18V212.58"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M311.41,191.72H318.59M311.41,208.65H318.59V190.72H311.41ZM315,208.65V210.37M315,190.72V188.02"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M326.06,190.98H333.24M326.06,193.3H333.24V189.98H326.06ZM329.65,193.3V194.16M329.65,189.98V183.84"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M340.71,188.86H347.89M340.71,189.86H347.89V187.53H340.71ZM344.3,189.86V194.16M344.3,187.53V184.95"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M384.67,194.79H391.85M384.67,202.39H391.85V193.79H384.67ZM388.26,202.39V205.7M388.26,193.79V193.79"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M399.32,198.23H406.5M399.32,199.68H406.5V197.23H399.32ZM402.91,199.68V206.19M402.91,197.23V196.74"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M413.97,107.35H421.15M413.97,127.47H421.15V106.35H413.97ZM417.56,127.47V127.72M417.56,106.35V84.98"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M428.62,110.05H435.8M428.62,115.81H435.8V109.05H428.62ZM432.21,115.81V118.26M432.21,109.05V98.49"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M443.27,103.3H450.45M443.27,111.75H450.45V102.3H443.27ZM446.86,111.75V113.6M446.86,102.3V100.95"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M487.22,88.44H494.4M487.22,101.68H494.4V87.44H487.22ZM490.81,101.68V104.51M490.81,87.44V84.86"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M501.88,73.21H509.05M501.88,84.37H509.05V72.21H501.88ZM505.47,84.37V85.47M505.47,72.21V65.33"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M516.53,66.95H523.71M516.53,74.42H523.71V65.95H516.53ZM520.12,74.42V76.02M520.12,65.95V63.74"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M531.18,62.28H538.36M531.18,70.74H538.36V61.28H531.18ZM534.77,70.74V77.25M534.77,61.28V60.91"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M545.83,63.97H553.01M545.83,64.97H553.01V60.79H545.83ZM549.42,64.97V65.82M549.42,60.79V54.89"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M589.78,51.6H596.96M589.78,53.18H596.96V50.6H589.78ZM593.37,53.18V57.23M593.37,50.6V44.09"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M604.43,30.35H611.61M604.43,48.39H611.61V29.35H604.43ZM608.02,48.39V51.09M608.02,29.35V28.49"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M619.08,23.33H626.26M619.08,23.33H626.26V23.21H619.08ZM622.67,23.33V34.26M622.67,23.21V14"/></g></g></g></g><path class="xlines-above crisp" style="fill: none;" d="M0,0"/><path class="ylines-above crisp" style="fill: none;" d="M0,0"/><g class="overlines-above"/><g class="xaxislayer-above"><g class="xtick"><text text-anchor="middle" x="0" y="318" style="font-family: TOBESTRIPPEDOpen SansTOBESTRIPPED, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(125.93,0)"><tspan class="line" dy="0em" x="0" y="318">Jan 8</tspan><tspan class="line" dy="1.3em" x="0" y="318">2017</tspan></text></g><g class="xtick"><text text-anchor="middle" x="0" y="318" style="font-family: TOBESTRIPPEDOpen SansTOBESTRIPPED, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(228.49,0)">Jan 15</text></g><g class="xtick"><text text-anchor="middle" x="0" y="318" style="font-family: TOBESTRIPPEDOpen SansTOBESTRIPPED, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(331.05,0)">Jan 22</text></g><g class="xtick"><text text-anchor="middle" x="0" y="318" style="font-family: TOBESTRIPPEDOpen SansTOBESTRIPPED, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(433.6,0)">Jan 29</text></g><g class="xtick"><text text-anchor="middle" x="0" y="318" style="font-family: TOBESTRIPPEDOpen SansTOBESTRIPPED, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(536.1600000000001,0)">Feb 5</text></g><g class="xtick"><text text-anchor="middle" x="0" y="318" style="font-family: TOBESTRIPPEDOpen SansTOBESTRIPPED, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(638.72,0)">Feb 12</text></g></g><g class="yaxislayer-above"><g class="ytick"><text text-anchor="end" x="59" y="4.199999999999999" style="font-family: TOBESTRIPPEDOpen SansTOBESTRIPPED, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(0,300.21)">115</text></g><g class="ytick"><text text-anchor="end" x="59" y="4.199999999999999" style="font-family: TOBESTRIPPEDOpen SansTOBESTRIPPED, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(0,238.81)">120</text></g><g class="ytick"><text text-anchor="end" x="59" y="4.199999999999999" style="font-family: TOBESTRIPPEDOpen SansTOBESTRIPPED, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(0,177.4)">125</text></g><g class="ytick"><text text-anchor="end" x="59" y="4.199999999999999" style="font-family: TOBESTRIPPEDOpen SansTOBESTRIPPED, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(0,116)">130</text></g><g class="ytick"><text text-anchor="end" x="59" y="4.199999999999999" style="font-family: TOBESTRIPPEDOpen SansTOBESTRIPPED, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(0,54.6)">135</text></g></g><g class="overaxes-above"/></g></g><g class="polarlayer"/><g class="smithlayer"/><g class="ternarylayer"/><g class="geolayer"/><g class="funnelarealayer"/><g class="pielayer"/><g class="iciclelayer"/><g class="treemaplayer"/><g class="sunburstlayer"/><g class="glimages"/><defs id="topdefs-f6e064"><g class="clips"/><clipPath id="rangesliderx-f6e064"><rect x="0" y="0" width="630" height="57.75"/></clipPath></defs><g class="layer-above"><g class="imagelayer"/><g class="shapelayer"/></g><g class="infolayer"><g class="g-gtitle"/><g class="rangeslider-container" pointer-events="all" transform="translate(60,353)"><rect class="rangeslider-bg" x="0" y="0" shape-rendering="crispEdges" width="630" height="57.75" transform="" stroke-width="0" style="stroke: rgb(68, 68, 68); stroke-opacity: 1; fill: rgb(255, 255, 255); fill-opacity: 1;"/><g class="rangeslider-rangeplot xy" clip-path="url(#rangesliderx-f6e064)"><g class="layer-subplot"><g class="shapelayer"/><g class="imagelayer"/></g><g class="minor-gridlayer"><g class="x"/><g class="y"/></g><g class="gridlayer"><g class="x"/><g class="y"/></g><g class="zerolinelayer"/><g class="layer-between"><g class="shapelayer"/><g class="imagelayer"/></g><path class="xlines-below"/><path class="ylines-below"/><g class="overlines-below"/><g class="xaxislayer-below"/><g class="yaxislayer-below"/><g class="overaxes-below"/><g class="overplot"><g class="xy"><g class="boxlayer mlayer rangeplot"><g class="trace boxes" style="opacity: 1;"><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M3.74,54.41H10.92M3.74,54.85H10.92V54.41H3.74ZM7.33,54.85V55.1M7.33,54.41V53.17"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M18.39,53.67H25.57M18.39,54.67H25.57V52.91H18.39ZM21.98,54.67V54.95M21.98,52.91V52.28"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M33.04,50.61H40.22M33.04,52.48H40.22V49.61H33.04ZM36.63,52.48V53.27M36.63,49.61V48.97"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M76.99,47.86H84.17M76.99,49.5H84.17V46.86H76.99ZM80.58,49.5V49.53M80.58,46.86V45.74"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M91.64,46.55H98.82M91.64,47.42H98.82V46.55H91.64ZM95.23,47.42V48.61M95.23,46.55V45.87"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M106.29,45.92H113.47M106.29,47.49H113.47V44.92H106.29ZM109.88,47.49V47.85M109.88,44.92V44.47"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M120.95,46.2H128.12M120.95,47.09H128.12V46.2H120.95ZM124.53,47.09V48.84M124.53,46.2V46.07"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M135.6,46.73H142.78M135.6,46.73H142.78V46.55H135.6ZM139.19,46.73V47.32M139.19,46.55V45.26"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M194.2,45.29H201.38M194.2,48.51H201.38V44.29H194.2ZM197.79,48.51V48.82M197.79,44.29V43.68"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M208.85,44.31H216.03M208.85,44.31H216.03V44.29H208.85ZM212.44,44.31V45.03M212.44,44.29V43.02"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M223.5,44.85H230.68M223.5,45.81H230.68V44.85H223.5ZM227.09,45.81V45.89M227.09,44.85V44.06"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M238.15,44.14H245.33M238.15,44.29H245.33V43.14H238.15ZM241.74,44.29V44.98M241.74,43.14V43.14"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M282.11,44.09H289.29M282.11,44.29H289.29V44.09H282.11ZM285.7,44.29V44.87M285.7,44.09V42.23"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M296.76,44.43H303.94M296.76,45.43H303.94V44.36H296.76ZM300.35,45.43V45.56M300.35,44.36V44.03"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M311.41,40.51H318.59M311.41,43.22H318.59V39.51H311.41ZM315,43.22V43.58M315,39.51V38.95"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M326.06,39.35H333.24M326.06,40.04H333.24V39.35H326.06ZM329.65,40.04V40.22M329.65,39.35V38.08"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M340.71,39.33H347.89M340.71,39.33H347.89V38.84H340.71ZM344.3,39.33V40.22M344.3,38.84V38.31"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M384.67,40.92H391.85M384.67,41.92H391.85V40.14H384.67ZM388.26,41.92V42.61M388.26,40.14V40.14"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M399.32,40.85H406.5M399.32,41.36H406.5V40.85H399.32ZM402.91,41.36V42.71M402.91,40.85V40.75"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M413.97,23.03H421.15M413.97,26.41H421.15V22.03H413.97ZM417.56,26.41V26.46M417.56,22.03V17.6"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M428.62,22.99H435.8M428.62,23.99H435.8V22.59H428.62ZM432.21,23.99V24.5M432.21,22.59V20.4"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M443.27,22.15H450.45M443.27,23.15H450.45V21.19H443.27ZM446.86,23.15V23.53M446.86,21.19V20.91"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M487.22,19.11H494.4M487.22,21.06H494.4V18.11H487.22ZM490.81,21.06V21.65M490.81,18.11V17.58"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M501.88,15.96H509.05M501.88,17.48H509.05V14.96H501.88ZM505.47,17.48V17.71M505.47,14.96V13.53"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M516.53,14.42H523.71M516.53,15.42H523.71V13.66H516.53ZM520.12,15.42V15.75M520.12,13.66V13.2"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M531.18,13.65H538.36M531.18,14.65H538.36V12.69H531.18ZM534.77,14.65V16M534.77,12.69V12.62"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M545.83,13.46H553.01M545.83,13.46H553.01V12.59H545.83ZM549.42,13.46V13.64M549.42,12.59V11.37"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M589.78,10.48H596.96M589.78,11.01H596.96V10.48H589.78ZM593.37,11.01V11.85M593.37,10.48V9.13"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M604.43,7.08H611.61M604.43,10.02H611.61V6.08H604.43ZM608.02,10.02V10.58M608.02,6.08V5.9"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M619.08,4.83H626.26M619.08,4.83H626.26V4.81H619.08ZM622.67,4.83V7.1M622.67,4.81V2.9"/></g></g></g></g><path class="xlines-above crisp" style="fill: none;"/><path class="ylines-above crisp" style="fill: none;"/><g class="overlines-above"/><g class="xaxislayer-above"/><g class="yaxislayer-above"/><g class="overaxes-above"/></g><rect class="rangeslider-mask-min" x="0" y="0" shape-rendering="crispEdges" height="57.75" style="fill: rgb(0, 0, 0); fill-opacity: 0.4;" width="0"/><rect class="rangeslider-mask-max" y="0" shape-rendering="crispEdges" height="57.75" style="fill: rgb(0, 0, 0); fill-opacity: 0.4;" x="630" width="0"/><g class="rangeslider-grabber-min" transform="translate(-2.5,0.5)"><rect class="rangeslider-handle-min" x="0" width="4" rx="1" fill="#fff" stroke="#444" stroke-width="1" shape-rendering="crispEdges" y="14" height="29"/><rect class="rangeslider-grabarea-min" width="10" x="0" y="0" fill="transparent" height="57.75"/></g><g class="rangeslider-grabber-max" transform="translate(628.5,0.5)"><rect class="rangeslider-handle-max" x="0" width="4" rx="1" fill="#fff" stroke="#444" stroke-width="1" shape-rendering="crispEdges" y="14" height="29"/><rect class="rangeslider-grabarea-max" width="10" x="0" y="0" fill="transparent" height="57.75"/></g></g><g class="g-ytitle"/><g class="g-xtitle"><text class="xtitle" style="opacity: 1; font-family: TOBESTRIPPEDOpen SansTOBESTRIPPED, verdana, arial, sans-serif; font-size: 14px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre;" x="375" y="441.75" text-anchor="middle">Date</text></g></g></svg>

          // Current server response is close enough and something like
          // <svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="700" height="450" style="" viewBox="0 0 700 450"><rect x="0" y="0" width="700" height="450" style="fill: rgb(255, 255, 255); fill-opacity: 1;"/><defs id="defs-fd0e9a"><g class="clips"><clipPath id="clipfd0e9axyplot" class="plotclip"><rect width="630" height="312"/></clipPath><clipPath class="axesclip" id="clipfd0e9ax"><rect x="60" y="0" width="630" height="450"/></clipPath><clipPath class="axesclip" id="clipfd0e9ay"><rect x="0" y="25" width="700" height="312"/></clipPath><clipPath class="axesclip" id="clipfd0e9axy"><rect x="60" y="25" width="630" height="312"/></clipPath></g><g class="gradients"/><g class="patterns"/></defs><g class="bglayer"/><g class="layer-below"><g class="imagelayer"/><g class="shapelayer"/></g><g class="cartesianlayer"><g class="subplot xy"><g class="layer-subplot"><g class="shapelayer"/><g class="imagelayer"/></g><g class="minor-gridlayer"><g class="x"/><g class="y"/></g><g class="gridlayer"><g class="x"><path class="xgrid crisp" transform="translate(125.93,0)" d="M0,25v312" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="xgrid crisp" transform="translate(228.49,0)" d="M0,25v312" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="xgrid crisp" transform="translate(331.05,0)" d="M0,25v312" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="xgrid crisp" transform="translate(433.6,0)" d="M0,25v312" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="xgrid crisp" transform="translate(536.1600000000001,0)" d="M0,25v312" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="xgrid crisp" transform="translate(638.72,0)" d="M0,25v312" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/></g><g class="y"><path class="ygrid crisp" transform="translate(0,331.66)" d="M60,0h630" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="ygrid crisp" transform="translate(0,263.24)" d="M60,0h630" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="ygrid crisp" transform="translate(0,194.82)" d="M60,0h630" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="ygrid crisp" transform="translate(0,126.4)" d="M60,0h630" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="ygrid crisp" transform="translate(0,57.98)" d="M60,0h630" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/></g></g><g class="zerolinelayer"/><g class="layer-between"><g class="shapelayer"/><g class="imagelayer"/></g><path class="xlines-below"/><path class="ylines-below"/><g class="overlines-below"/><g class="xaxislayer-below"/><g class="yaxislayer-below"/><g class="overaxes-below"/><g class="overplot"><g class="xy" transform="translate(60,25)" clip-path="url(#clipfd0e9axyplot)"><g class="boxlayer mlayer"><g class="trace boxes" style="opacity: 1;"><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M3.74,293.71H10.92M3.74,295.03H10.92V292.71H3.74ZM7.33,295.03V296.4M7.33,292.71V286"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M18.39,285.63H25.57M18.39,294.07H25.57V284.63H18.39ZM21.98,294.07V295.58M21.98,284.63V281.21"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M33.04,267.84H40.22M33.04,282.31H40.22V266.84H33.04ZM36.63,282.31V286.55M36.63,266.84V263.42"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M76.99,253.06H84.17M76.99,266.29H84.17V252.06H76.99ZM80.58,266.29V266.43M80.58,252.06V246.04"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M91.64,251.42H98.82M91.64,255.07H98.82V250.42H91.64ZM95.23,255.07V261.51M95.23,250.42V246.73"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M106.29,242.66H113.47M106.29,255.48H113.47V241.66H106.29ZM109.88,255.48V257.4M109.88,241.66V239.2"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M120.95,249.51H128.12M120.95,253.29H128.12V248.51H120.95ZM124.53,253.29V262.74M124.53,248.51V247.82"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M135.6,251.38H142.78M135.6,251.38H142.78V250.42H135.6ZM139.19,251.38V254.53M139.19,250.42V243.44"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M194.2,239.24H201.38M194.2,260.96H201.38V238.24H194.2ZM197.79,260.96V262.6M197.79,238.24V234.96"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M208.85,238.38H216.03M208.85,238.38H216.03V238.24H208.85ZM212.44,238.38V242.21M212.44,238.24V231.4"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M223.5,242.25H230.68M223.5,246.45H230.68V241.25H223.5ZM227.09,246.45V246.86M227.09,241.25V237.01"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M238.15,237.24H245.33M238.15,238.24H245.33V232.08H238.15ZM241.74,238.24V241.94M241.74,232.08V232.08"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M282.11,237.24H289.29M282.11,238.24H289.29V237.15H282.11ZM285.7,238.24V241.39M285.7,237.15V227.16"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M296.76,239.65H303.94M296.76,244.4H303.94V238.65H296.76ZM300.35,244.4V245.08M300.35,238.65V236.87"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M311.41,213.52H318.59M311.41,232.49H318.59V212.52H311.41ZM315,232.49V234.41M315,212.52V209.51"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M326.06,212.69H333.24M326.06,215.39H333.24V211.69H326.06ZM329.65,215.39V216.35M329.65,211.69V204.85"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M340.71,210.56H347.89M340.71,211.56H347.89V208.96H340.71ZM344.3,211.56V216.35M344.3,208.96V206.08"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M384.67,216.94H391.85M384.67,225.52H391.85V215.94H384.67ZM388.26,225.52V229.21M388.26,215.94V215.94"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M399.32,220.77H406.5M399.32,222.51H406.5V219.77H399.32ZM402.91,222.51V229.76M402.91,219.77V219.22"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M413.97,119.51H421.15M413.97,142.04H421.15V118.51H413.97ZM417.56,142.04V142.32M417.56,118.51V94.69"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M428.62,122.52H435.8M428.62,129.04H435.8V121.52H428.62ZM432.21,129.04V131.78M432.21,121.52V109.75"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M443.27,114.99H450.45M443.27,124.53H450.45V113.99H443.27ZM446.86,124.53V126.58M446.86,113.99V112.48"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M487.22,98.43H494.4M487.22,113.31H494.4V97.43H487.22ZM490.81,113.31V116.45M490.81,97.43V94.56"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M501.88,81.46H509.05M501.88,94.01H509.05V80.46H501.88ZM505.47,94.01V95.24M505.47,80.46V72.8"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M516.53,74.48H523.71M516.53,82.93H523.71V73.48H516.53ZM520.12,82.93V84.71M520.12,73.48V71.02"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M531.18,69.28H538.36M531.18,78.82H538.36V68.28H531.18ZM534.77,78.82V86.07M534.77,68.28V67.87"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M545.83,71.39H553.01M545.83,72.39H553.01V67.74H545.83ZM549.42,72.39V73.35M549.42,67.74V61.17"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M589.78,57.38H596.96M589.78,59.25H596.96V56.38H589.78ZM593.37,59.25V63.77M593.37,56.38V49.13"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M604.43,33.71H611.61M604.43,53.92H611.61V32.71H604.43ZM608.02,53.92V56.93M608.02,32.71V31.75"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M619.08,26H626.26M619.08,26H626.26V25.86H619.08ZM622.67,26V38.18M622.67,25.86V15.6"/></g></g></g></g><path class="xlines-above crisp" style="fill: none;" d="M0,0"/><path class="ylines-above crisp" style="fill: none;" d="M0,0"/><g class="overlines-above"/><g class="xaxislayer-above"><g class="xtick"><text text-anchor="middle" x="0" y="350" style="font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(125.93,0)"><tspan class="line" dy="0em" x="0" y="350">Jan 8</tspan><tspan class="line" dy="1.3em" x="0" y="350">2017</tspan></text></g><g class="xtick"><text text-anchor="middle" x="0" y="350" style="font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(228.49,0)">Jan 15</text></g><g class="xtick"><text text-anchor="middle" x="0" y="350" style="font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(331.05,0)">Jan 22</text></g><g class="xtick"><text text-anchor="middle" x="0" y="350" style="font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(433.6,0)">Jan 29</text></g><g class="xtick"><text text-anchor="middle" x="0" y="350" style="font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(536.1600000000001,0)">Feb 5</text></g><g class="xtick"><text text-anchor="middle" x="0" y="350" style="font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(638.72,0)">Feb 12</text></g></g><g class="yaxislayer-above"><g class="ytick"><text text-anchor="end" x="59" y="4.199999999999999" style="font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(0,331.66)">115</text></g><g class="ytick"><text text-anchor="end" x="59" y="4.199999999999999" style="font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(0,263.24)">120</text></g><g class="ytick"><text text-anchor="end" x="59" y="4.199999999999999" style="font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(0,194.82)">125</text></g><g class="ytick"><text text-anchor="end" x="59" y="4.199999999999999" style="font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(0,126.4)">130</text></g><g class="ytick"><text text-anchor="end" x="59" y="4.199999999999999" style="font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(0,57.98)">135</text></g></g><g class="overaxes-above"/></g></g><g class="polarlayer"/><g class="smithlayer"/><g class="ternarylayer"/><g class="geolayer"/><g class="funnelarealayer"/><g class="pielayer"/><g class="iciclelayer"/><g class="treemaplayer"/><g class="sunburstlayer"/><g class="glimages"/><defs id="topdefs-fd0e9a"><g class="clips"/><clipPath id="rangesliderx-fd0e9a"><rect x="0" y="0" width="630" height="57.75"/></clipPath></defs><g class="layer-above"><g class="imagelayer"/><g class="shapelayer"/></g><g class="infolayer"><g class="g-gtitle"/><g class="rangeslider-container" pointer-events="all" transform="translate(60,352)"><rect class="rangeslider-bg" x="0" y="0" shape-rendering="crispEdges" width="630" height="57.75" transform="" stroke-width="0" style="stroke: rgb(68, 68, 68); stroke-opacity: 1; fill: rgb(255, 255, 255); fill-opacity: 1;"/><g class="rangeslider-rangeplot xy" clip-path="url(#rangesliderx-fd0e9a)"><g class="layer-subplot"><g class="shapelayer"/><g class="imagelayer"/></g><g class="minor-gridlayer"><g class="x"/><g class="y"/></g><g class="gridlayer"><g class="x"/><g class="y"/></g><g class="zerolinelayer"/><g class="layer-between"><g class="shapelayer"/><g class="imagelayer"/></g><path class="xlines-below"/><path class="ylines-below"/><g class="overlines-below"/><g class="xaxislayer-below"/><g class="yaxislayer-below"/><g class="overaxes-below"/><g class="overplot"><g class="xy"><g class="boxlayer mlayer rangeplot"><g class="trace boxes" style="opacity: 1;"><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M3.74,54.41H10.92M3.74,54.85H10.92V54.41H3.74ZM7.33,54.85V55.1M7.33,54.41V53.17"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M18.39,53.67H25.57M18.39,54.67H25.57V52.91H18.39ZM21.98,54.67V54.95M21.98,52.91V52.28"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M33.04,50.61H40.22M33.04,52.48H40.22V49.61H33.04ZM36.63,52.48V53.27M36.63,49.61V48.97"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M76.99,47.86H84.17M76.99,49.5H84.17V46.86H76.99ZM80.58,49.5V49.53M80.58,46.86V45.74"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M91.64,46.55H98.82M91.64,47.42H98.82V46.55H91.64ZM95.23,47.42V48.61M95.23,46.55V45.87"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M106.29,45.92H113.47M106.29,47.49H113.47V44.92H106.29ZM109.88,47.49V47.85M109.88,44.92V44.47"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M120.95,46.2H128.12M120.95,47.09H128.12V46.2H120.95ZM124.53,47.09V48.84M124.53,46.2V46.07"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M135.6,46.73H142.78M135.6,46.73H142.78V46.55H135.6ZM139.19,46.73V47.32M139.19,46.55V45.26"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M194.2,45.29H201.38M194.2,48.51H201.38V44.29H194.2ZM197.79,48.51V48.82M197.79,44.29V43.68"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M208.85,44.31H216.03M208.85,44.31H216.03V44.29H208.85ZM212.44,44.31V45.03M212.44,44.29V43.02"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M223.5,44.85H230.68M223.5,45.81H230.68V44.85H223.5ZM227.09,45.81V45.89M227.09,44.85V44.06"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M238.15,44.14H245.33M238.15,44.29H245.33V43.14H238.15ZM241.74,44.29V44.98M241.74,43.14V43.14"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M282.11,44.09H289.29M282.11,44.29H289.29V44.09H282.11ZM285.7,44.29V44.87M285.7,44.09V42.23"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M296.76,44.43H303.94M296.76,45.43H303.94V44.36H296.76ZM300.35,45.43V45.56M300.35,44.36V44.03"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M311.41,40.51H318.59M311.41,43.22H318.59V39.51H311.41ZM315,43.22V43.58M315,39.51V38.95"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M326.06,39.35H333.24M326.06,40.04H333.24V39.35H326.06ZM329.65,40.04V40.22M329.65,39.35V38.08"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M340.71,39.33H347.89M340.71,39.33H347.89V38.84H340.71ZM344.3,39.33V40.22M344.3,38.84V38.31"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M384.67,40.92H391.85M384.67,41.92H391.85V40.14H384.67ZM388.26,41.92V42.61M388.26,40.14V40.14"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M399.32,40.85H406.5M399.32,41.36H406.5V40.85H399.32ZM402.91,41.36V42.71M402.91,40.85V40.75"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M413.97,23.03H421.15M413.97,26.41H421.15V22.03H413.97ZM417.56,26.41V26.46M417.56,22.03V17.6"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M428.62,22.99H435.8M428.62,23.99H435.8V22.59H428.62ZM432.21,23.99V24.5M432.21,22.59V20.4"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M443.27,22.15H450.45M443.27,23.15H450.45V21.19H443.27ZM446.86,23.15V23.53M446.86,21.19V20.91"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M487.22,19.11H494.4M487.22,21.06H494.4V18.11H487.22ZM490.81,21.06V21.65M490.81,18.11V17.58"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M501.88,15.96H509.05M501.88,17.48H509.05V14.96H501.88ZM505.47,17.48V17.71M505.47,14.96V13.53"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M516.53,14.42H523.71M516.53,15.42H523.71V13.66H516.53ZM520.12,15.42V15.75M520.12,13.66V13.2"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M531.18,13.65H538.36M531.18,14.65H538.36V12.69H531.18ZM534.77,14.65V16M534.77,12.69V12.62"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M545.83,13.46H553.01M545.83,13.46H553.01V12.59H545.83ZM549.42,13.46V13.64M549.42,12.59V11.37"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M589.78,10.48H596.96M589.78,11.01H596.96V10.48H589.78ZM593.37,11.01V11.85M593.37,10.48V9.13"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M604.43,7.08H611.61M604.43,10.02H611.61V6.08H604.43ZM608.02,10.02V10.58M608.02,6.08V5.9"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M619.08,4.83H626.26M619.08,4.83H626.26V4.81H619.08ZM622.67,4.83V7.1M622.67,4.81V2.9"/></g></g></g></g><path class="xlines-above crisp" style="fill: none;"/><path class="ylines-above crisp" style="fill: none;"/><g class="overlines-above"/><g class="xaxislayer-above"/><g class="yaxislayer-above"/><g class="overaxes-above"/></g><rect class="rangeslider-mask-min" x="0" y="0" shape-rendering="crispEdges" height="57.75" style="fill: rgb(0, 0, 0); fill-opacity: 0.4;" width="0"/><rect class="rangeslider-mask-max" y="0" shape-rendering="crispEdges" height="57.75" style="fill: rgb(0, 0, 0); fill-opacity: 0.4;" x="630" width="0"/><g class="rangeslider-grabber-min" transform="translate(-2.5,0.5)"><rect class="rangeslider-handle-min" x="0" width="4" rx="1" fill="#fff" stroke="#444" stroke-width="1" shape-rendering="crispEdges" y="14" height="29"/><rect class="rangeslider-grabarea-min" width="10" x="0" y="0" fill="transparent" height="57.75"/></g><g class="rangeslider-grabber-max" transform="translate(628.5,0.5)"><rect class="rangeslider-handle-max" x="0" width="4" rx="1" fill="#fff" stroke="#444" stroke-width="1" shape-rendering="crispEdges" y="14" height="29"/><rect class="rangeslider-grabarea-max" width="10" x="0" y="0" fill="transparent" height="57.75"/></g></g><g class="g-ytitle"/><g class="g-xtitle"><text class="xtitle" style="opacity: 1; font-family: 'Open Sans', verdana, arial, sans-serif; font-size: 14px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre;" x="375" y="440.75" text-anchor="middle">Date</text></g></g></svg>

          // Check partial matches, avoiding the random id bits.
          assert.ok(body.indexOf('<svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="700" height="450" style="" viewBox="0 0 700 450"><rect x="0" y="0" width="700" height="450" style="fill: rgb(255, 255, 255); fill-opacity: 1;"/><defs id="defs-') >= 0);
          assert.ok(body.indexOf('<g class="clips"><clipPath id="clip') > 0);
          assert.ok(body.indexOf('xyplot" class="plotclip"><rect width="630" height="312"/></clipPath><clipPath class="axesclip" id="clip') > 0);
          assert.ok(body.indexOf('x"><rect x="60" y="0" width="630" height="450"/></clipPath><clipPath class="axesclip" id="clip') > 0);
          assert.ok(body.indexOf('y"><rect x="0" y="25" width="700" height="312"/></clipPath><clipPath class="axesclip" id="clip') > 0);
          assert.ok(body.indexOf('xy"><rect x="60" y="25" width="630" height="312"/></clipPath></g><g class="gradients"/><g class="patterns"/></defs><g class="bglayer"/><g class="layer-below"><g class="imagelayer"/><g class="shapelayer"/></g><g class="cartesianlayer"><g class="subplot xy"><g class="layer-subplot"><g class="shapelayer"/><g class="imagelayer"/></g><g class="minor-gridlayer"><g class="x"/><g class="y"/></g><g class="gridlayer"><g class="x"><path class="xgrid crisp" transform="translate(125.93,0)" d="M0,25v312" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="xgrid crisp" transform="translate(228.49,0)" d="M0,25v312" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="xgrid crisp" transform="translate(331.05,0)" d="M0,25v312" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="xgrid crisp" transform="translate(433.6,0)" d="M0,25v312" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="xgrid crisp" transform="translate(536.1600000000001,0)" d="M0,25v312" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="xgrid crisp" transform="translate(638.72,0)" d="M0,25v312" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/></g><g class="y"><path class="ygrid crisp" transform="translate(0,331.66)" d="M60,0h630" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="ygrid crisp" transform="translate(0,263.24)" d="M60,0h630" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="ygrid crisp" transform="translate(0,194.82)" d="M60,0h630" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="ygrid crisp" transform="translate(0,126.4)" d="M60,0h630" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/><path class="ygrid crisp" transform="translate(0,57.98)" d="M60,0h630" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"/></g></g><g class="zerolinelayer"/><g class="layer-between"><g class="shapelayer"/><g class="imagelayer"/></g><path class="xlines-below"/><path class="ylines-below"/><g class="overlines-below"/><g class="xaxislayer-below"/><g class="yaxislayer-below"/><g class="overaxes-below"/><g class="overplot"><g class="xy" transform="translate(60,25)" clip-path="url(#clip') > 0);
          assert.ok(body.indexOf('xyplot)"><g class="boxlayer mlayer"><g class="trace boxes" style="opacity: 1;"><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M3.74,293.71H10.92M3.74,295.03H10.92V292.71H3.74ZM7.33,295.03V296.4M7.33,292.71V286"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M18.39,285.63H25.57M18.39,294.07H25.57V284.63H18.39ZM21.98,294.07V295.58M21.98,284.63V281.21"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M33.04,267.84H40.22M33.04,282.31H40.22V266.84H33.04ZM36.63,282.31V286.55M36.63,266.84V263.42"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M76.99,253.06H84.17M76.99,266.29H84.17V252.06H76.99ZM80.58,266.29V266.43M80.58,252.06V246.04"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M91.64,251.42H98.82M91.64,255.07H98.82V250.42H91.64ZM95.23,255.07V261.51M95.23,250.42V246.73"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M106.29,242.66H113.47M106.29,255.48H113.47V241.66H106.29ZM109.88,255.48V257.4M109.88,241.66V239.2"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M120.95,249.51H128.12M120.95,253.29H128.12V248.51H120.95ZM124.53,253.29V262.74M124.53,248.51V247.82"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M135.6,251.38H142.78M135.6,251.38H142.78V250.42H135.6ZM139.19,251.38V254.53M139.19,250.42V243.44"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M194.2,239.24H201.38M194.2,260.96H201.38V238.24H194.2ZM197.79,260.96V262.6M197.79,238.24V234.96"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M208.85,238.38H216.03M208.85,238.38H216.03V238.24H208.85ZM212.44,238.38V242.21M212.44,238.24V231.4"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M223.5,242.25H230.68M223.5,246.45H230.68V241.25H223.5ZM227.09,246.45V246.86M227.09,241.25V237.01"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M238.15,237.24H245.33M238.15,238.24H245.33V232.08H238.15ZM241.74,238.24V241.94M241.74,232.08V232.08"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M282.11,237.24H289.29M282.11,238.24H289.29V237.15H282.11ZM285.7,238.24V241.39M285.7,237.15V227.16"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M296.76,239.65H303.94M296.76,244.4H303.94V238.65H296.76ZM300.35,244.4V245.08M300.35,238.65V236.87"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M311.41,213.52H318.59M311.41,232.49H318.59V212.52H311.41ZM315,232.49V234.41M315,212.52V209.51"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M326.06,212.69H333.24M326.06,215.39H333.24V211.69H326.06ZM329.65,215.39V216.35M329.65,211.69V204.85"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M340.71,210.56H347.89M340.71,211.56H347.89V208.96H340.71ZM344.3,211.56V216.35M344.3,208.96V206.08"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M384.67,216.94H391.85M384.67,225.52H391.85V215.94H384.67ZM388.26,225.52V229.21M388.26,215.94V215.94"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M399.32,220.77H406.5M399.32,222.51H406.5V219.77H399.32ZM402.91,222.51V229.76M402.91,219.77V219.22"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M413.97,119.51H421.15M413.97,142.04H421.15V118.51H413.97ZM417.56,142.04V142.32M417.56,118.51V94.69"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M428.62,122.52H435.8M428.62,129.04H435.8V121.52H428.62ZM432.21,129.04V131.78M432.21,121.52V109.75"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M443.27,114.99H450.45M443.27,124.53H450.45V113.99H443.27ZM446.86,124.53V126.58M446.86,113.99V112.48"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M487.22,98.43H494.4M487.22,113.31H494.4V97.43H487.22ZM490.81,113.31V116.45M490.81,97.43V94.56"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M501.88,81.46H509.05M501.88,94.01H509.05V80.46H501.88ZM505.47,94.01V95.24M505.47,80.46V72.8"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M516.53,74.48H523.71M516.53,82.93H523.71V73.48H516.53ZM520.12,82.93V84.71M520.12,73.48V71.02"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M531.18,69.28H538.36M531.18,78.82H538.36V68.28H531.18ZM534.77,78.82V86.07M534.77,68.28V67.87"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M545.83,71.39H553.01M545.83,72.39H553.01V67.74H545.83ZM549.42,72.39V73.35M549.42,67.74V61.17"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M589.78,57.38H596.96M589.78,59.25H596.96V56.38H589.78ZM593.37,59.25V63.77M593.37,56.38V49.13"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M604.43,33.71H611.61M604.43,53.92H611.61V32.71H604.43ZM608.02,53.92V56.93M608.02,32.71V31.75"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M619.08,26H626.26M619.08,26H626.26V25.86H619.08ZM622.67,26V38.18M622.67,25.86V15.6"/></g></g></g></g><path class="xlines-above crisp" style="fill: none;" d="M0,0"/><path class="ylines-above crisp" style="fill: none;" d="M0,0"/><g class="overlines-above"/><g class="xaxislayer-above"><g class="xtick"><text text-anchor="middle" x="0" y="350" style="font-family: \'Open Sans\', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(125.93,0)"><tspan class="line" dy="0em" x="0" y="350">Jan 8</tspan><tspan class="line" dy="1.3em" x="0" y="350">2017</tspan></text></g><g class="xtick"><text text-anchor="middle" x="0" y="350" style="font-family: \'Open Sans\', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(228.49,0)">Jan 15</text></g><g class="xtick"><text text-anchor="middle" x="0" y="350" style="font-family: \'Open Sans\', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(331.05,0)">Jan 22</text></g><g class="xtick"><text text-anchor="middle" x="0" y="350" style="font-family: \'Open Sans\', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(433.6,0)">Jan 29</text></g><g class="xtick"><text text-anchor="middle" x="0" y="350" style="font-family: \'Open Sans\', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(536.1600000000001,0)">Feb 5</text></g><g class="xtick"><text text-anchor="middle" x="0" y="350" style="font-family: \'Open Sans\', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(638.72,0)">Feb 12</text></g></g><g class="yaxislayer-above"><g class="ytick"><text text-anchor="end" x="59" y="4.199999999999999" style="font-family: \'Open Sans\', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(0,331.66)">115</text></g><g class="ytick"><text text-anchor="end" x="59" y="4.199999999999999" style="font-family: \'Open Sans\', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(0,263.24)">120</text></g><g class="ytick"><text text-anchor="end" x="59" y="4.199999999999999" style="font-family: \'Open Sans\', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(0,194.82)">125</text></g><g class="ytick"><text text-anchor="end" x="59" y="4.199999999999999" style="font-family: \'Open Sans\', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(0,126.4)">130</text></g><g class="ytick"><text text-anchor="end" x="59" y="4.199999999999999" style="font-family: \'Open Sans\', verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" transform="translate(0,57.98)">135</text></g></g><g class="overaxes-above"/></g></g><g class="polarlayer"/><g class="smithlayer"/><g class="ternarylayer"/><g class="geolayer"/><g class="funnelarealayer"/><g class="pielayer"/><g class="iciclelayer"/><g class="treemaplayer"/><g class="sunburstlayer"/><g class="glimages"/><defs id="topdefs-') > 0);
          assert.ok(body.indexOf('"><g class="clips"/><clipPath id="rangesliderx-') > 0);
          assert.ok(body.indexOf('"><rect x="0" y="0" width="630" height="57.75"/></clipPath></defs><g class="layer-above"><g class="imagelayer"/><g class="shapelayer"/></g><g class="infolayer"><g class="g-gtitle"/><g class="rangeslider-container" pointer-events="all" transform="translate(60,352)"><rect class="rangeslider-bg" x="0" y="0" shape-rendering="crispEdges" width="630" height="57.75" transform="" stroke-width="0" style="stroke: rgb(68, 68, 68); stroke-opacity: 1; fill: rgb(255, 255, 255); fill-opacity: 1;"/><g class="rangeslider-rangeplot xy" clip-path="url(#rangesliderx-') > 0);
          assert.ok(body.indexOf(')"><g class="layer-subplot"><g class="shapelayer"/><g class="imagelayer"/></g><g class="minor-gridlayer"><g class="x"/><g class="y"/></g><g class="gridlayer"><g class="x"/><g class="y"/></g><g class="zerolinelayer"/><g class="layer-between"><g class="shapelayer"/><g class="imagelayer"/></g><path class="xlines-below"/><path class="ylines-below"/><g class="overlines-below"/><g class="xaxislayer-below"/><g class="yaxislayer-below"/><g class="overaxes-below"/><g class="overplot"><g class="xy"><g class="boxlayer mlayer rangeplot"><g class="trace boxes" style="opacity: 1;"><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M3.74,54.41H10.92M3.74,54.85H10.92V54.41H3.74ZM7.33,54.85V55.1M7.33,54.41V53.17"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M18.39,53.67H25.57M18.39,54.67H25.57V52.91H18.39ZM21.98,54.67V54.95M21.98,52.91V52.28"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M33.04,50.61H40.22M33.04,52.48H40.22V49.61H33.04ZM36.63,52.48V53.27M36.63,49.61V48.97"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M76.99,47.86H84.17M76.99,49.5H84.17V46.86H76.99ZM80.58,49.5V49.53M80.58,46.86V45.74"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M91.64,46.55H98.82M91.64,47.42H98.82V46.55H91.64ZM95.23,47.42V48.61M95.23,46.55V45.87"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M106.29,45.92H113.47M106.29,47.49H113.47V44.92H106.29ZM109.88,47.49V47.85M109.88,44.92V44.47"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M120.95,46.2H128.12M120.95,47.09H128.12V46.2H120.95ZM124.53,47.09V48.84M124.53,46.2V46.07"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M135.6,46.73H142.78M135.6,46.73H142.78V46.55H135.6ZM139.19,46.73V47.32M139.19,46.55V45.26"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M194.2,45.29H201.38M194.2,48.51H201.38V44.29H194.2ZM197.79,48.51V48.82M197.79,44.29V43.68"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M208.85,44.31H216.03M208.85,44.31H216.03V44.29H208.85ZM212.44,44.31V45.03M212.44,44.29V43.02"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M223.5,44.85H230.68M223.5,45.81H230.68V44.85H223.5ZM227.09,45.81V45.89M227.09,44.85V44.06"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M238.15,44.14H245.33M238.15,44.29H245.33V43.14H238.15ZM241.74,44.29V44.98M241.74,43.14V43.14"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M282.11,44.09H289.29M282.11,44.29H289.29V44.09H282.11ZM285.7,44.29V44.87M285.7,44.09V42.23"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M296.76,44.43H303.94M296.76,45.43H303.94V44.36H296.76ZM300.35,45.43V45.56M300.35,44.36V44.03"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M311.41,40.51H318.59M311.41,43.22H318.59V39.51H311.41ZM315,43.22V43.58M315,39.51V38.95"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M326.06,39.35H333.24M326.06,40.04H333.24V39.35H326.06ZM329.65,40.04V40.22M329.65,39.35V38.08"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M340.71,39.33H347.89M340.71,39.33H347.89V38.84H340.71ZM344.3,39.33V40.22M344.3,38.84V38.31"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M384.67,40.92H391.85M384.67,41.92H391.85V40.14H384.67ZM388.26,41.92V42.61M388.26,40.14V40.14"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M399.32,40.85H406.5M399.32,41.36H406.5V40.85H399.32ZM402.91,41.36V42.71M402.91,40.85V40.75"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M413.97,23.03H421.15M413.97,26.41H421.15V22.03H413.97ZM417.56,26.41V26.46M417.56,22.03V17.6"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M428.62,22.99H435.8M428.62,23.99H435.8V22.59H428.62ZM432.21,23.99V24.5M432.21,22.59V20.4"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M443.27,22.15H450.45M443.27,23.15H450.45V21.19H443.27ZM446.86,23.15V23.53M446.86,21.19V20.91"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M487.22,19.11H494.4M487.22,21.06H494.4V18.11H487.22ZM490.81,21.06V21.65M490.81,18.11V17.58"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M501.88,15.96H509.05M501.88,17.48H509.05V14.96H501.88ZM505.47,17.48V17.71M505.47,14.96V13.53"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M516.53,14.42H523.71M516.53,15.42H523.71V13.66H516.53ZM520.12,15.42V15.75M520.12,13.66V13.2"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M531.18,13.65H538.36M531.18,14.65H538.36V12.69H531.18ZM534.77,14.65V16M534.77,12.69V12.62"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M545.83,13.46H553.01M545.83,13.46H553.01V12.59H545.83ZM549.42,13.46V13.64M549.42,12.59V11.37"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M589.78,10.48H596.96M589.78,11.01H596.96V10.48H589.78ZM593.37,11.01V11.85M593.37,10.48V9.13"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(23, 190, 207); stroke-opacity: 1; fill: rgb(23, 190, 207); fill-opacity: 0.5; opacity: 1;" class="box" d="M604.43,7.08H611.61M604.43,10.02H611.61V6.08H604.43ZM608.02,10.02V10.58M608.02,6.08V5.9"/><path style="vector-effect: none; stroke-width: 2px; stroke: rgb(127, 127, 127); stroke-opacity: 1; fill: rgb(127, 127, 127); fill-opacity: 0.5; opacity: 1;" class="box" d="M619.08,4.83H626.26M619.08,4.83H626.26V4.81H619.08ZM622.67,4.83V7.1M622.67,4.81V2.9"/></g></g></g></g><path class="xlines-above crisp" style="fill: none;"/><path class="ylines-above crisp" style="fill: none;"/><g class="overlines-above"/><g class="xaxislayer-above"/><g class="yaxislayer-above"/><g class="overaxes-above"/></g><rect class="rangeslider-mask-min" x="0" y="0" shape-rendering="crispEdges" height="57.75" style="fill: rgb(0, 0, 0); fill-opacity: 0.4;" width="0"/><rect class="rangeslider-mask-max" y="0" shape-rendering="crispEdges" height="57.75" style="fill: rgb(0, 0, 0); fill-opacity: 0.4;" x="630" width="0"/><g class="rangeslider-grabber-min" transform="translate(-2.5,0.5)"><rect class="rangeslider-handle-min" x="0" width="4" rx="1" fill="#fff" stroke="#444" stroke-width="1" shape-rendering="crispEdges" y="14" height="29"/><rect class="rangeslider-grabarea-min" width="10" x="0" y="0" fill="transparent" height="57.75"/></g><g class="rangeslider-grabber-max" transform="translate(628.5,0.5)"><rect class="rangeslider-handle-max" x="0" width="4" rx="1" fill="#fff" stroke="#444" stroke-width="1" shape-rendering="crispEdges" y="14" height="29"/><rect class="rangeslider-grabarea-max" width="10" x="0" y="0" fill="transparent" height="57.75"/></g></g><g class="g-ytitle"/><g class="g-xtitle"><text class="xtitle" style="opacity: 1; font-family: \'Open Sans\', verdana, arial, sans-serif; font-size: 14px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre;" x="375" y="440.75" text-anchor="middle">Date</text></g></g></svg>') > 0);
        });
      });
    });

    // TODO: Candlestick Chart without Rangeslider - https://plotly.com/javascript/candlestick-charts/#candlestick-chart-without-rangeslider
    // TODO: Customise Candlestick Chart with Shapes and Annotations - https://plotly.com/javascript/candlestick-charts/#customise-candlestick-chart-with-shapes-and-annotations
    // TODO: Customizing Candlestick Chart Colors - https://plotly.com/javascript/candlestick-charts/#customizing-candlestick-chart-colors
    // TODO: Add Rangeselector - https://plotly.com/javascript/candlestick-charts/#add-rangeselector

/*
    it('request with different data', () => {
      const options = {
        port: 3000,
        host: 'localhost',
        method: 'POST'
      };

      const req = http.request(options);
      const payload = '{ "x": ["2013-10-04 22:23:00", "2013-11-04 22:23:00", "2013-12-04 22:23:00"], "y": [1, 3, 6], "type": "scatter" }';
      req.write(payload);
      req.end();

      req.on('response', (response) => {
        assert.strictEqual(200, response.statusCode);
        let body = '';
        response.on('data', (chunk) => {
          body += chunk;
        });
        response.on('end', () => {
          assert.ok(body.startsWith('<svg'));
          assert.ok(body.endsWith('</svg>'));
          assert.ok(body.indexOf('width="700"') > 0);
          assert.ok(body.indexOf('height="400"') > 0);
        });
      });
    });
    */
  });
});
